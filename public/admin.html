<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Painel Administrativo</title>
    <link rel="stylesheet" href="admin.css">
    <!-- Adiciona a biblioteca SortableJS -->
    <script src="https://cdn.jsdelivr.net/npm/sortablejs@latest/Sortable.min.js"></script>
</head>
<body>
    <div class="admin-container">
        <h2>Painel Administrativo</h2>
        <button id="logoutBtn">Sair</button>

        <div class="config-section">
            <h3>Configurações da Loja</h3>
            <form id="configForm">
                <div class="form-group">
                    <label for="nomeLoja">Nome da Loja:</label>
                    <input type="text" id="nomeLoja" required>
                </div>
                <div class="form-group">
                    <label for="enderecoLoja">Endereço da Loja:</label>
                    <input type="text" id="enderecoLoja" required>
                </div>
                 <div class="form-group">
                    <label for="horarioFuncionamento">Horário de Funcionamento:</label>
                    <input type="text" id="horarioFuncionamento" required>
                </div>
                 <div class="form-group">
                    <label for="whatsappNumberConfig">WhatsApp da Loja:</label>
                    <input type="text" id="whatsappNumberConfig" required inputmode="numeric" pattern="[0-9]*" maxlength="11" disabled>
                    <button type="button" id="editWhatsappBtn">Alterar</button>
                    <button type="button" id="cancelEditWhatsappBtn" style="display:none;">Cancelar</button>
                    <p class="info-message">Digite o DDD + Número (11 dígitos). Ex: 11987654321</p>
                    <p class="error-message-field" id="whatsappConfigError"></p>
                </div>
                <div class="form-group">
                    <label for="logoUrl">URL da Logo:</label>
                    <input type="text" id="logoUrl">
                     <input type="file" id="logoUpload" accept="image/*">
                     <button type="button" id="uploadLogoBtn">Upload Logo</button>
                </div>
                 <div class="form-group">
                    <label for="capaUrl">URL da Imagem de Capa:</label>
                    <input type="text" id="capaUrl">
                    <input type="file" id="capaUpload" accept="image/*">
                    <button type="button" id="uploadCapaBtn">Upload Capa</button>
                    <p class="info-message">Formatos permitidos: JPG, PNG, WebP</p>
                </div>

                <button type="submit" id="saveConfigBtn">Salvar Configurações</button>
            </form>
        </div>


        <div class="products-section">
            <h3>
                Gerenciar Produtos
                <button id="openOrderModalBtn" class="order-btn">Ordenar Categorias</button>
            </h3>

            <div id="productList">
                <!-- O conteúdo será gerado dinamicamente pelo admin.js -->
            </div>

            <h3>Adicionar Novo Produto</h3>
            <form id="addProductForm">
                <div class="form-group">
                    <label for="newProductName">Nome:</label>
                    <input type="text" id="newProductName" required>
                     <p class="error-message-field" id="newProductNameError"></p>
                </div>
                <div class="form-group">
                    <label for="newProductPrice">Preço:</label>
                    <input type="number" id="newProductPrice" step="0.01" required min="0">
                     <p class="error-message-field" id="newProductPriceError"></p>
                </div>
                <div class="form-group">
                    <label for="newProductCategory">Categoria:</label>
                    <input type="text" id="newProductCategory" placeholder="Ex: Cervejas, Refrigerantes">
                </div>
                <div class="form-group">
                    <label for="newProductImage">Imagem:</label>
                    <input type="file" id="newProductImageFile" accept="image/*">
                    <input type="text" id="newProductImageUrl" placeholder="Ou cole o URL da imagem">
                    <button type="button" id="uploadNewImageBtn">Upload Imagem</button>
                     <p class="error-message-field" id="newProductImageError"></p>
                </div>
                 <div class="form-group">
                    <label for="newProductActive">Ativo:</label>
                    <input type="checkbox" id="newProductActive" checked>
                </div>
                <button type="submit">Adicionar Produto</button>
            </form>
        </div>
    </div>

    <!-- Modal para Ordenar Categorias -->
    <div id="orderModal" class="modal-overlay" style="display:none;">
        <div class="modal-content">
            <h4>Ordenar Categorias</h4>
            <p>Arraste e solte para reordenar como elas aparecem na loja.</p>
            <ul id="sortableCategoryList" class="sortable-list">
                <!-- Itens da lista serão gerados pelo admin.js -->
            </ul>
            <div class="modal-actions">
                <button id="saveOrderBtn" class="save-btn">Salvar Ordem</button>
                <button id="cancelOrderBtn" class="delete-btn">Cancelar</button>
            </div>
        </div>
    </div>

    <script src="admin.js"></script>
</body>
</html>