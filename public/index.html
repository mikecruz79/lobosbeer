<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Lobo Beer – Cardápio</title>
  <style>
    body{font-family:sans-serif;margin:0;padding:0;background:#111;color:#f5f5f5}
    header,footer{text-align:center;padding:1rem}
    .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(140px,1fr));gap:1rem;padding:1rem}
    .card{background:#222;border-radius:8px;padding:.5rem;text-align:center}
    .card img{max-width:100%;border-radius:4px}
    .price{font-weight:bold}
  </style>
</head>
<body>
  <header><h1>Lobo Beer 🍻</h1></header>

  <main id="produtos" class="grid"></main>

  <footer>© 2024 Lobo Beer – Desenvolvido com ❤️</footer>

  <script>
    fetch('/produtos')
      .then(r => r.json())
      .then(lista => {
        const grid = document.getElementById('produtos');
        lista.filter(p => p.ativo).forEach(p => {
          grid.insertAdjacentHTML('beforeend', `
            <div class="card">
              <img src="${p.imagem_url || 'https://via.placeholder.com/150'}" alt="${p.nome}">
              <p>${p.nome}</p>
              <p class="price">R$ ${Number(p.preco).toFixed(2)}</p>
            </div>
          `);
        });
      })
      .catch(err => {
        console.error('Falha ao carregar produtos:', err);
        document.getElementById('produtos').textContent =
          'Erro ao carregar cardápio 😕';
      });
  </script>
</body>
</html>
